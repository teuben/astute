#! /usr/bin/env python
#
# casapy script, with some external MIRIAD and NEMO example calls
# To run this:
#     casapy --nogui -c $ASTUTE/bin/getdata
#
# it would be useful to find out if there is some "import casa" style,
# so you don't have to run this from within casapy?
#

#   from astute
import astute, alines, parfile
import sys, os

#    helper function to resolve $TAS, should go in astute/parfile?
def tasfn(name):
   if name[0:4]=='$TAS':
      tas = os.environ['TAS']
      return tas + name[4:]
   else:
      return name

#    grab parameters
p = parfile.ParFile()

#    set parameters
f_fits = tasfn(p.get('fits'))
f_im   = 'im'

#    do work
importfits(f_fits, f_im, overwrite=True)


